<!DOCTYPE html>
<html>
<head>
  <title>Search Books</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .filter-bar {background-color: #eee4d8;padding: 20px 40px;border-bottom: 2px solid #ccc;}
    .filter-bar h2 {color: #6E0B14; margin-bottom: 15px;}
    .filters {display: flex;flex-wrap: wrap;gap: 15px;}
    .filters select { padding: 10px;border: 1px solid #aaa;border-radius: 5px;font-size: 14px;background-color: #fff;}
    .book-list, .results {display: flex;flex-wrap: wrap;justify-content: center;gap: 30px;padding: 30px;}
    .book-card {background-color: #f9f2ea;border: 1px solid #ccc;border-radius: 8px;padding: 15px;width: 200px;text-align: center;transition: 0.3s;}
    .book-card:hover {box-shadow: 0 0 10px rgba(0,0,0,0.2);}
    .book-card img {width: 100%;height: 250px;object-fit: cover;border-radius: 5px;}
    .price {color: #6E0B14;font-weight: bold;}
    .btn-details {display: inline-block;margin-top: 10px;color: #fff;background-color: #6E0B14;padding: 8px 15px;border-radius: 5px;text-decoration: none;}
    .btn-details:hover {background-color: #540910;}
    .search-bar {text-align: center; margin: 20px;}
    .search-bar input {padding: 10px; width: 300px; border-radius: 5px; border: 1px solid #aaa;}
    .search-bar button {padding: 10px 20px; background-color: #6E0B14; color: white; border: none; border-radius: 5px; cursor: pointer;}
    .search-bar button:hover {background-color: #540910;}
  </style>
</head>
<body class="browse-page">
  <header class="main-header">
    <h1 class="logo">Browse Books</h1>
    <nav class="navbar">
      <a href="home.html">Home</a>
      <a href="Login.html">Sign Up</a>
      <a href="book.html">Book Details</a>
      <a href="Categories.html">Categories</a>
      <a href="Searching.html">Search</a>
      <a href="orders.html">Cart</a>
      <a href="About.html">About</a>
      <a href="Contact.html">Contact</a>
      <a href="policies.html">Policies</a>
      <a href="account.html">Account</a>
    </nav>
  </header>

  <div class="search-bar">
    <input type="text" id="searchInput" placeholder="Search by title, author, or category...">
    <button onclick="searchBooks()">Search</button>
  </div>

  <div id="results" class="results"></div>

  <script>
    const books = [
      { title: "كل أزرق السماء", author: "ميليسا دا كوستا", category: "دراما", altCategory: "drama", img: "img/Dramab.png", free: false },
      { title: "بينما تنمو أشجار الليمون", author: "زلفى ياسر درويش", category: "دراما", altCategory: "drama", img: "img/DramaL.png", free: false },
      { title: "The Convenience Store by the Sea", author: "Sonoko Machida", category: "Drama", altCategory: "دراما", img: "img/DramaC.png", free: false },
      { title: "حالة الاستثناء", author: "جورجيو أغامبن", category: "فلسفة", altCategory: "philosophy", img: "img/Phila01.png", free: true, file: "Philo" },
      { title: "الفكر الجمهوري", author: "ماوريتسيو فيرولي", category: "فلسفة", altCategory: "philosophy", img: "img/phila02.png", free: false },
      { title: "محاورة فيدون", author: "أفلاطون", category: "فلسفة", altCategory: "philosophy", img: "img/phila03.png", free: true, file: "Philos" },
      { title: "مذكرات شيرلوك هولمز", author: "آرثر كونان دويل", category: "غموض", altCategory: "mystery", img: "img/Myst01.png", free: false },
      { title: "دليل الشمعة الملتوية", author: "ادجار والاس", category: "غموض", altCategory: "mystery", img: "img/Myst02.png", free: true, file: "Mystr" },
      { title: "الممثلون الغافلون", author: "بلزاك", category: "غموض", altCategory: "mystery", img: "img/Myst03.png", free: false },
      { title: "نظرية كل شيء", author: "Paul Davies and Julian Brown", category: "تعليم", altCategory: "education", img: "img/Edu01.png", free: false },
      { title: "A Mind for Numbers", author: "Barbara Oakley", category: "Education", altCategory: "تعليم", img: "img/Edu02.png", free: true, file: "Math" }
    ];

    function searchBooks() {
      const query = document.getElementById("searchInput").value.trim().toLowerCase();
      const results = document.getElementById("results");
      results.innerHTML = "";

      const matched = books.filter(book =>
        book.title.toLowerCase().includes(query) ||
        book.author.toLowerCase().includes(query) ||
        book.category.toLowerCase().includes(query) ||
        book.altCategory.toLowerCase().includes(query)
      );

      if (matched.length === 0) {
        results.innerHTML = "<p>No books found.</p>";
        return;
      }

      matched.forEach(book => {
        const card = document.createElement("div");
        card.className = "book-card";
        card.innerHTML = `
          <img src="${book.img}" alt="${book.title}">
          <h3>${book.title}</h3>
          <p>${book.author}</p>
          <a href="book.html" class="btn-details">View Details</a>
          ${book.free
            ? `<a href="reader.html?book=${encodeURIComponent(book.file)}" class="btn-details">Read Online</a>`
            : `<a href="orders.html" class="btn-details">Add to Cart</a>`}
        `;
        results.appendChild(card);
      });
    }
  </script>
</body>
</html>